{"version":3,"sources":["webpack:///./src/app/list/list.module.ts","webpack:///./src/app/list/list.page.html","webpack:///./src/app/list/list.page.scss","webpack:///./src/app/list/list.page.ts"],"names":[],"mappings":"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","file":"list-list-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { SharedModule } from '../shared';\nimport { ListPage } from './list.page';\n\n@NgModule({\n  imports: [\n    SharedModule,\n    RouterModule.forChild([\n      {\n        path: '',\n        component: ListPage\n      }\n    ])\n  ],\n  declarations: [ListPage]\n})\nexport class ListPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title text-center *ngIf=\\\"(category$ | async) as category\\\">\\n        {{'category.' + category.name | translate}} [ {{idxSubcategory + 1}} / {{idxLastSubcategory + 1}} ]\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-toolbar color=\\\"light\\\">\\n  <ion-buttons slot=\\\"start\\\" *ngIf=\\\"showNavPrev\\\" (click)=\\\"gotoPrev()\\\">\\n    <ion-button>\\n      <ion-icon slot=\\\"icon-only\\\" name=\\\"arrow-round-back\\\"></ion-icon>\\n    </ion-button>\\n  </ion-buttons>\\n  <ion-buttons slot=\\\"end\\\" *ngIf=\\\"showNavNext\\\" (click)=\\\"gotoNext()\\\">\\n    <ion-button>\\n      <ion-icon slot=\\\"icon-only\\\" name=\\\"arrow-round-forward\\\"></ion-icon>\\n    </ion-button>\\n  </ion-buttons>\\n  <ion-title text-center *ngIf=\\\"(subcategory$ | async) as subcategory\\\">\\n      <img *ngFor=\\\"let image of subcategory.images\\\" src=\\\"../../assets/icon/{{image}}\\\" class=\\\"responsive-thumbnail\\\" />\\n  </ion-title>\\n</ion-toolbar>\\n<ion-content>\\n    <ion-grid *ngIf=\\\"(subcategory$ | async) as subcategory\\\">\\n        <ion-row *ngFor=\\\"let chunk of subcategory.games | chunks: 6; index as idxChunk\\\">\\n          <ion-col *ngFor=\\\"let game of chunk; index as idxGame\\\" size=\\\"2\\\">\\n            <ion-button [color]=\\\"!game.record ? 'light' : game.record < 0 ? 'warning' : 'success' \\\" expand=\\\"block\\\" (click)=\\\"showPosition(idxGame + idxChunk * 6)\\\">{{1 + idxGame + idxChunk * 6}}</ion-button>\\n          </ion-col>\\n        </ion-row>\\n    </ion-grid>\\n</ion-content>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xpc3QvbGlzdC5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { Location } from '@angular/common';\nimport { ActivatedRoute } from '@angular/router';\nimport { EndgameDatabaseService, EndgameDatabase, Category, Subcategory, MiscService } from '../shared';\nimport { Observable, of } from 'rxjs';\nimport { NavController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-list',\n  templateUrl: 'list.page.html',\n  styleUrls: ['list.page.scss']\n})\nexport class ListPage implements OnInit {\n\n  public endgameDatabase: EndgameDatabase;\n  public idxCategory: number;\n  public idxSubcategory: number;\n  public idxLastSubcategory: number;\n  public showNavPrev = false;\n  public showNavNext = false;\n  public category$: Observable<Category>;\n  public subcategory$: Observable<Subcategory>;\n  public idx = 1;\n\n  constructor(\n    private route: ActivatedRoute,\n    private location: Location,\n    private navCtrl: NavController,\n    private endgameDatabaseService: EndgameDatabaseService,\n    private miscService: MiscService) {\n  }\n\n  ngOnInit() {\n    this.route.params.subscribe( params => {\n      this.idxCategory = +params.idxcategory;\n      this.idxSubcategory = +params.idxsubcategory;\n      this.endgameDatabaseService.initialize().then(result => {\n        this.endgameDatabase = this.endgameDatabaseService.getDatabase();\n        this.load();\n      });\n    });\n  }\n\n  load() {\n    const cat = this.endgameDatabase.categories[this.idxCategory];\n    const subcat = cat.subcategories[this.idxSubcategory];\n    subcat.images = this.miscService.textToImages(subcat.name);\n    this.category$ = of(cat);\n    this.subcategory$ = of(subcat);\n    this.idxLastSubcategory = this.endgameDatabase.categories[this.idxCategory].subcategories.length - 1;\n    this.showNavPrev = this.idxSubcategory > 0 || this.idxCategory > 0;\n    this.showNavNext = !(this.idxCategory === this.endgameDatabase.categories.length - 1 && this.idxSubcategory === this.idxLastSubcategory);\n  }\n  \n  gotoPrev() {\n    let idxCat = this.idxCategory;\n    let idxSub = this.idxSubcategory - 1;\n    if (idxSub < 0) {\n      idxCat--;\n      idxSub = this.endgameDatabase.categories[idxCat].subcategories.length - 1;\n    }\n    //this.navCtrl.navigateRoot('/list/'+ idxCat + '/' + idxSub);\n    this.idxCategory = idxCat;\n    this.idxSubcategory = idxSub;\n    this.location.go('/list/'+ idxCat + '/' + idxSub);\n    this.load();\n  }\n\n  gotoNext() {\n    let idxCat = this.idxCategory;\n    let idxSub = this.idxSubcategory + 1;\n    if (idxSub > this.idxLastSubcategory) {\n      idxCat++;\n      idxSub = 0;\n    }\n    //this.navCtrl.navigateRoot('/list/'+ idxCat + '/' + idxSub);\n    this.idxCategory = idxCat;\n    this.idxSubcategory = idxSub;\n    this.location.go('/list/'+ idxCat + '/' + idxSub);\n    this.load();\n  }\n\n  showPosition(idxGame) {\n    this.navCtrl.navigateRoot('/position/'+ this.idxCategory + '/' + this.idxSubcategory + '/' + idxGame);\n  }\n\n}\n"],"sourceRoot":""}